{% extends "home/base.html" %}
{% block content %}
{% load static %}

<!-- Load d3.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.6.0/d3.min.js"></script>
<!-- Color scale -->
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
 

<!-- Resources -->
<script src="https://www.amcharts.com/lib/4/core.js"></script>
<script src="https://www.amcharts.com/lib/4/charts.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/kelly.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
<script src="https://www.amcharts.com/lib/4/plugins/wordCloud.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

<!-- Chart code -->


<!-- Add 2 buttons -->
<div style="text-align:center;">
<button type="button"  class="btn btn-primary button" onclick="updateGauge(currentpos,btech_placed_frac);updateBarChart(data3);plot_cloud(data5);">B.tech</button>
<button type="button" class="btn btn-primary button" onclick="updateGauge(currentpos,mtech_placed_frac);updateBarChart(data4);plot_cloud(data6);">M.tech</button>
</div>
<div style="text-align:center;">
<h3> Placement statistics </h3>

<svg width="960" height="500" id="gauge">
 viewBox="0 0 960 500"
  preserveAspectRatio="xMidYMid meet">
  </svg>

<h3> Branchwise placement statistics</h3>
<div style="height: 800px;"id="barchart"></div>

<br>
<br>
<h3> Top Recruitors</h3>
<div style="height: 800px;" id="wordcloud"></div>
<br>
<br>

<div style="margin-bottom:200px"></div>
<style>
#pictorial {
  width: 100%;
  height: 500px;
}
</style>
<link rel="stylesheet" type="text/css" href="{% static 'home/buttons.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'home/gauge.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'home/barchart.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'home/wordcloud.css' %}">
<script>
var delayBarChart=100000;
var data1 = {{ btech_percent_placed|safe }};
var data2 = {{ mtech_percent_placed|safe }};
var btech_placed_frac=data1["Placed"]/(data1["Placed"]+data1["Not placed"]);
var mtech_placed_frac=data2["Placed"]/(data2["Placed"]+data2["Not placed"]);
var data3 = {{ btech_branchwise_placements|safe }};
var data4 = {{ mtech_branchwise_placements|safe }};
var data5 = {{ company_count|safe }};
var data6={{company_count_mtech|safe }};
console.log(data5);
</script>




<script src="{% static 'home/gauge.js' %}"> </script>
<script src="{% static 'home/barchart.js' %}"> </script>
<script src="{% static 'home/wordcloud.js' %}"> </script>

{% endblock %}